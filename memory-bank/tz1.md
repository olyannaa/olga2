# Техническое задание (актуальное, по реализованной системе)

## 1. Назначение
Система предназначена для управления проектами, задачами и учетом рабочего времени с ролевым доступом и проектными ролями.

## 2. Ролевая модель
- Системные роли: `admin`, `gip`, `executor`, `accountant`.
- Проектные роли: `manager`, `lead_specialist`, `executor`, `accountant`.
- Администратор может быть со скоупом по подразделениям и с флагом согласования субподрядов.

## 3. Функциональные блоки
### 3.1 Проекты
- CRUD, статусы active/completed/archived, архивирование/восстановление.
- Привязка к подразделению и менеджеру.

### 3.2 WBS и задачи
- Разделы WBS с глубиной до 3 уровней.
- Авто‑создание задач по разделам.
- Ручные задачи: проектные, личные, бухгалтерские.
- Субподряды по разделам с согласованием.

### 3.3 Таймшиты
- Месячный/недельный режим.
- Day‑off коды б/к/о/в.
- Авто‑перевод задач в `in_progress` при первом time entry.

### 3.4 Аналитика
- Прогресс задач, трудозатраты, стоимость (timesheet + контракт).

### 3.5 Организация и контрагенты
- Подразделения, сотрудники, контрагентские исполнители.

### 3.6 Чат
- Текстовые сообщения внутри проекта (REST).

## 4. Ограничения и отклонения от первоначального ТЗ
- Нет интеграции с Nextcloud; файлы — метаданные/URL.
- Нет экспорта отчетов в Excel.
- Настройки пользователя/организации — read‑only UI.
- `work_calendar` и `time_sheets` присутствуют в БД, но не используются.
